
Reports_Detail_Js("Reports_ChartDetailView_Js",{displayNoDataMessage:function(){$(".chartcontent").html("<div>"+app.vtranslate("JS_NO_CHART_DATA_AVAILABLE")+"</div>").css({"text-align":"center",position:"relative",top:"100px"})},isEmptyData:function(){var b=jQuery("input[name=data]").val();var c=JSON.parse(b);var a=c.values;if(b==""||a==""){return true}return false}},{getInstance:function(){var c=jQuery("input[name=charttype]").val();var b=c.toCamelCase();var d=window["Report_"+b+"_Js"];var a=false;if(typeof d!="undefined"){a=new d();a.postInitializeCalls()}return a},registerSaveOrGenerateReportEvent:function(){var a=this;jQuery(".generateReport").on("click",function(h){if(!jQuery("#chartDetailForm").validationEngine("validate")){h.preventDefault();return false}var i=a.calculateValues();var f=$('[name="recordId"').val();var g=jQuery(h.currentTarget).data("mode");var b={advanced_filter:i,record:f,view:"ChartSaveAjax",module:app.getModuleName(),mode:g,charttype:jQuery("input[name=charttype]").val(),groupbyfield:jQuery("#groupbyfield").val(),datafields:jQuery("#datafields").val()};var d=a.getContentHolder().find("#reportContentsDiv");var c=jQuery("<div></div>");c.progressIndicator({position:"html",blockInfo:{enabled:true,elementToBlock:d}});h.preventDefault();AppConnector.request(b).then(function(e){c.progressIndicator({mode:"hide"});d.html(e);a.registerEventForChartGeneration()})})},registerEventForChartGeneration:function(){var b=this;try{b.getInstance();jQuery(".chartcontent").trigger(Vtiger_Widget_Js.widgetPostLoadEvent)}catch(a){Reports_ChartDetailView_Js.displayNoDataMessage();return}},registerEventForModifyCondition:function(){jQuery("button[name=modify_condition]").on("click",function(){var b=jQuery("#filterContainer");var a=jQuery(this).find("span");var c=a.attr("class");if(c.indexOf("glyphicon-chevron-right")!=-1){a.removeClass("glyphicon-chevron-right").addClass("glyphicon-chevron-down");b.removeClass("hide").show("slow")}else{a.removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-right");b.hide("slow")}return false})},registerEvents:function(){this._super();this.registerEventForModifyCondition();this.registerEventForChartGeneration();Reports_ChartEdit3_Js.registerFieldForChosen();Reports_ChartEdit3_Js.initSelectValues();jQuery("#chartDetailForm").validationEngine(app.validationEngineOptions)}});$(document).ready(function(){(new Reports_ChartDetailView_Js()).registerEvents()});