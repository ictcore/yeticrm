
Vtiger_Barchat_Widget_Js("Report_Verticalbarchart_Js",{},{postInitializeCalls:function(){jQuery("table.jqplot-table-legend").css("width","95px");var a=this;this.getContainer().off("jqplotDataClick");this.getContainer().on("jqplotDataClick",function(d,c,g,f,e){var b=a.data.links[f[0]-1];if(b){window.location.href=b}});this.getContainer().on("jqplotDataHighlight",function(b,c,d,e){$(".jqplot-event-canvas").css("cursor","pointer")});this.getContainer().on("jqplotDataUnhighlight",function(b,c,d,e){$(".jqplot-event-canvas").css("cursor","auto")})},postLoadWidget:function(){if(!Reports_ChartDetailView_Js.isEmptyData()){this.loadChart()}else{this.positionNoDataMsg()}this.postInitializeCalls()},positionNoDataMsg:function(){Reports_ChartDetailView_Js.displayNoDataMessage()},getPlotContainer:function(b){if(typeof b=="undefined"){b=false}if(this.plotContainer==false||!b){var a=this.getContainer();this.plotContainer=a.find(".chartcontent")}return this.plotContainer},init:function(){this._super(jQuery("#reportContentsDiv"))},generateChartData:function(){var n=this.getContainer().find("input[name=data]").val();var f=this.data=JSON.parse(n);var o=f.values;var d=[];var h=0;var m;if(f.type=="singleBar"){d[0]=[];for(var g in o){m=o[g];for(var e in m){d[0].push(m[e]);if(m[e]>h){h=m[e]}}}}else{d[0]=[];d[1]=[];d[2]=[];for(var c in o){m=o[c];var a=[];for(var b in m){d[b].push(m[b]);if(m[b]>h){h=m[b]}}}}h=h+(h*0.15);return{chartData:d,yMaxValue:h,labels:f.labels,data_labels:f.data_labels,title:f.graph_label}}});Vtiger_Pie_Widget_Js("Report_Piechart_Js",{},{postInitializeCalls:function(){var b=jQuery("input[name=clickthrough]").val();if(b!=""){var a=this;this.getContainer().off("jqplotDataClick");this.getContainer().on("jqplotDataClick",function(c,e,f,g){var d=a.data.links[f];if(d){window.location.href=d}});this.getContainer().on("jqplotDataHighlight",function(c,d,e,f){$(".jqplot-event-canvas").css("cursor","pointer")});this.getContainer().on("jqplotDataUnhighlight",function(c,d,e,f){$(".jqplot-event-canvas").css("cursor","auto")})}},postLoadWidget:function(){if(!Reports_ChartDetailView_Js.isEmptyData()){this.loadChart()}else{this.positionNoDataMsg()}},positionNoDataMsg:function(){Reports_ChartDetailView_Js.displayNoDataMessage()},getPlotContainer:function(b){if(typeof b=="undefined"){b=false}if(this.plotContainer==false||!b){var a=this.getContainer();this.plotContainer=a.find(".chartcontent")}return this.plotContainer},init:function(){this._super(jQuery("#reportContentsDiv"))},generateData:function(){var c=this.getContainer().find("input[name=data]").val();var e=this.data=JSON.parse(c);var a=e.values;var d=[];for(var b in a){d[b]=[];d[b].push(e.labels[b]);d[b].push(a[b])}return{chartData:d,labels:e.labels,data_labels:e.data_labels,title:e.graph_label}}});Report_Verticalbarchart_Js("Report_Linechart_Js",{},{generateData:function(){var e=this.getContainer().find("input[name=data]").val();var h=this.data=JSON.parse(e);var a=h.values;var g=[];var c=0;g[1]=[];g[2]=[];g[0]=[];for(var d in a){var f=a[d];for(var b in f){g[b].push(f[b])}}c=c+c*0.15;return{chartData:g,yMaxValue:c,labels:h.labels,data_labels:h.data_labels,title:h.graph_label}},loadChart:function(){var a=this.generateData();var b=this.getPlotContainer(false).jqplot(a.chartData,{title:a.title,legend:{show:true,labels:a.data_labels,location:"ne",showSwatch:true,showLabels:true,placement:"outside"},seriesDefaults:{pointLabels:{show:true}},axes:{xaxis:{min:0,pad:1,renderer:$.jqplot.CategoryAxisRenderer,ticks:a.labels,tickOptions:{formatString:"%b %#d"}}},cursor:{show:true}});jQuery("table.jqplot-table-legend").css("width","95px")}});Report_Verticalbarchart_Js("Report_Horizontalbarchart_Js",{},{generateChartData:function(){var m=this.getContainer().find("input[name=data]").val();var e=this.data=JSON.parse(m);var n=e.values;var c=[];var g=0;var h;if(e.type=="singleBar"){for(var f in n){h=n[f];c[f]=[];for(var d in h){c[f].push(h[d]);c[f].push(parseInt(f)+1);if(h[d]>g){g=h[d]}}}c=[c]}else{c=[];c[0]=[];c[1]=[];c[2]=[];for(var b in n){h=n[b];for(var a in h){c[a][b]=[];c[a][b].push(h[a]);c[a][b].push(parseInt(b)+1);if(h[a]>g){g=h[a]}}}}g=g+(g*0.15);return{chartData:c,yMaxValue:g,labels:e.labels,data_labels:e.data_labels,title:e.graph_label}},loadChart:function(){var a=this.generateChartData();var b=a.labels;this.getPlotContainer(false).jqplot(a.chartData,{title:a.title,animate:!$.jqplot.use_excanvas,seriesDefaults:{renderer:$.jqplot.BarRenderer,showDataLabels:true,pointLabels:{show:true,location:"e",edgeTolerance:-15},shadowAngle:135,rendererOptions:{barDirection:"horizontal"}},axes:{yaxis:{tickRenderer:jQuery.jqplot.CanvasAxisTickRenderer,renderer:jQuery.jqplot.CategoryAxisRenderer,ticks:b,tickOptions:{angle:-45}}},legend:{show:true,location:"e",placement:"outside",showSwatch:true,showLabels:true,labels:a.data_labels}});jQuery("table.jqplot-table-legend").css("width","95px")},postInitializeCalls:function(){var a=this;this.getContainer().off("jqplotDataClick");this.getContainer().on("jqplotDataClick",function(d,c,g,f,e){var b=a.data.links[f[1]-1];if(b){window.location.href=b}});this.getContainer().on("jqplotDataHighlight",function(b,c,d,e){$(".jqplot-event-canvas").css("cursor","pointer")});this.getContainer().on("jqplotDataUnhighlight",function(b,c,d,e){$(".jqplot-event-canvas").css("cursor","auto")})}});