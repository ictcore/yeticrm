
Vtiger_Edit_Js("Settings_SMSNotifier_Edit_Js",{},{getForm:function(){if(this.formElement==false){this.setForm(jQuery("#modalEdit"))}return this.formElement},registerProviderTypeChangeEvent:function(b){var a=this.getForm();a.find('[name="providertype"]').on("change",function(g){var f=jQuery(g.currentTarget);var c=f.val();a.find("form [data-provider]").remove();var d=a.find('.providersFields [data-provider="'+c+'"]').clone(true,true);a.find(".fieldsContainer").append(d);app.showSelect2ElementView(d.find("select").removeClass("chzn-select"))})},registerEvents:function(){var c=this;var a=this.getForm();app.destroyChosenElement(a);a.find("select").removeClass("chzn-select");app.showSelect2ElementView(a.find("form select"));this.registerBasicEvents(a);var b=a.find("form");b.on("submit",function(f){f.preventDefault();if(b.validationEngine("validate")){var d=b.serializeFormData();app.saveAjax("",[],d).then(function(g){if(g.result){Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate("JS_SAVE_SUCCESS")});var e=Settings_Vtiger_List_Js.getInstance();e.getListViewRecords()}else{Vtiger_Helper_Js.showPnotify(app.vtranslate("JS_ERROR"))}app.hideModalWindow()})}});c.registerProviderTypeChangeEvent()}});jQuery(document).ready(function(b){var a=new Settings_SMSNotifier_Edit_Js();a.registerEvents()});