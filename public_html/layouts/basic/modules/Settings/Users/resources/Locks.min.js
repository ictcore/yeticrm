jQuery.Class("Settings_Users_Locks_Js",{},{registerAdd:function(b){var a=this;b.find(".addItem").click(function(f){var g=parseInt(b.find("#lcount").val())+1;var d=$(f.currentTarget);var c=b.find(".cloneItem tbody").clone(true,true);c.find("tr").attr("data-id",g).addClass("row"+g);b.find(".locksTable tbody").append(c.html());b.find("#lcount").val(g);a.registerDelete(b.find("tr.row"+g));app.showSelect2ElementView(b.find("tr.row"+g).find("select"))})},registerDelete:function(a){a.find(".delate").click(function(c){var b=$(c.currentTarget);b.closest("tr").remove()})},registerSave:function(b){var a=this;b.find(".saveItems").click(function(d){var c=[];b.find(".locksTable tbody tr").each(function(e){c.push({user:$(this).find(".users").val(),locks:$(this).find(".locks").val(),})});app.saveAjax("saveLocks",c).then(function(e){Settings_Vtiger_Index_Js.showMessage({type:"success",text:e.result.message})})})},registerEvents:function(){var a=$(".contentsDiv");this.registerAdd(a);this.registerDelete(a);this.registerSave(a)}});