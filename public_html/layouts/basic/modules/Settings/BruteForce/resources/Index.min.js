jQuery.Class("Settings_BruteForce_Index_Js",{},{container:false,getContainer:function(){if(this.container==false){this.container=jQuery("div.contentsDiv")}return this.container},saveAjax:function(b,a){app.saveAjax(b,a).then(function(d){var c=d.result;var e={text:app.vtranslate(c.message),type:"info"};Vtiger_Helper_Js.showPnotify(e)},function(d,c){Vtiger_Helper_Js.showPnotify({text:app.vtranslate("JS_COULD_NOT_FINNISH_REACTION")});app.errorLog(d,c)})},registerSwitchEvents:function(){this.getContainer().find('.switchBtn[name="sent"]').on("switchChange.bootstrapSwitch",function(c,b){var a=jQuery(c.currentTarget);a.closest(".form-group").find(".selectedUsersForm").toggleClass("hide")})},registerEvents:function(){var b=this;b.registerSwitchEvents();var a=b.getContainer().find("form");a.on("submit",function(f){var c=jQuery(f.currentTarget);if(c.validationEngine("validate")==true){var d=c.serializeFormData();d.active=c.find('[name="active"]').prop("checked")?1:0;d.sent=c.find('[name="sent"]').prop("checked")?1:0;b.saveAjax(c.data("mode"),d);return false}else{app.formAlignmentAfterValidation(c)}});a.validationEngine(app.validationEngineOptions);jQuery(".unblock").on("click",function(f){var d=jQuery.progressIndicator({position:"html",blockInfo:{enabled:true}});var c=jQuery(f.currentTarget);app.saveAjax("unBlock",c.data("id")).then(function(g){var e=g.result;var h={text:app.vtranslate(e.message)};if(e.success){h.type="info";c.parents("tr").hide()}d.progressIndicator({mode:"hide"});Vtiger_Helper_Js.showPnotify(h)})})}});