
Settings_Vtiger_Edit_Js("Settings_Groups_Edit_Js",{},{memberSelectElement:false,getMemberSelectElement:function(){if(this.memberSelectElement==false){this.memberSelectElement=jQuery("#memberList")}return this.memberSelectElement},registerFormForValidation:function(){var a=this.getForm();a.validationEngine(app.getvalidationEngineOptions(true))},registerSubmitEvent:function(){var b=this;var a=jQuery("#EditView");a.on("submit",function(d){if(a.data("submit")=="true"&&a.data("performCheck")=="true"){return true}else{if(a.data("jqv").InvalidFields.length<=0){var c=a.serializeFormData();b.checkDuplicateName({groupname:c.groupname,record:c.record}).then(function(e){a.data("submit","true");a.data("performCheck","true");a.submit()},function(f,e){var g={};g.text=f.message;g.type="error";Settings_Vtiger_Index_Js.showMessage(g);return false})}else{a.removeData("submit");app.formAlignmentAfterValidation(a)}d.preventDefault()}})},checkDuplicateName:function(b){var a=jQuery.Deferred();var c={module:app.getModuleName(),parent:app.getParentModuleName(),action:"EditAjax",mode:"checkDuplicate",groupname:b.groupname,record:b.record};AppConnector.request(c).then(function(f){var e=f.result;var d=e.success;if(d==true){a.reject(e)}else{a.resolve(e)}},function(d,e){a.reject()});return a.promise()},registerEvents:function(){this._super();this.registerSubmitEvent()}});