
Vtiger_Detail_Js("Contacts_Detail_Js",{},{registerRecordPreSaveEvent:function(c){var b=this;var a=jQuery('[name="email"]');if(typeof c=="undefined"){c=this.getForm()}c.on(this.fieldPreSave,'[name="portal"]',function(i,h){var g=jQuery(i.currentTarget);var d=a.val();var f=jQuery(".ui-pnotify").length;if(g.is(":checked")){if(a.length==0){if(f<=0){Vtiger_Helper_Js.showPnotify(app.vtranslate("JS_PRIMARY_EMAIL_FIELD_DOES_NOT_EXISTS"))}i.preventDefault()}if(d==""){if(f<=0){Vtiger_Helper_Js.showPnotify(app.vtranslate("JS_PLEASE_ENTER_PRIMARY_EMAIL_VALUE_TO_ENABLE_PORTAL_USER"))}i.preventDefault()}}})},registerEvents:function(){var a=this.getForm();this._super();this.registerRecordPreSaveEvent(a)}});