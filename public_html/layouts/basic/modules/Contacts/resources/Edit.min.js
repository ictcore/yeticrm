
Vtiger_Edit_Js("Contacts_Edit_Js",{},{checkForPortalUser:function(e){var d=jQuery('[name="portal"]',e);var b=d.is(":checked");var c=jQuery('[name="email"]');var a=c.val();if(b){if(c.length==0){Vtiger_Helper_Js.showPnotify(app.vtranslate("JS_PRIMARY_EMAIL_FIELD_DOES_NOT_EXISTS"));return false}if(a==""){Vtiger_Helper_Js.showPnotify(app.vtranslate("JS_PLEASE_ENTER_PRIMARY_EMAIL_VALUE_TO_ENABLE_PORTAL_USER"));return false}}return true},registerRecordPreSaveEvent:function(b){var a=this;if(typeof b=="undefined"){b=this.getForm()}b.on(Vtiger_Edit_Js.recordPreSave,function(f,d){var c=a.checkForPortalUser(b);if(!c){f.preventDefault()}})},registerBasicEvents:function(a){this._super(a);this.registerRecordPreSaveEvent(a)}});