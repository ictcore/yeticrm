
Vtiger_RelatedList_Js("PriceBooks_RelatedList_Js",{},{showSelectRelationPopup:function(){var a=this;var b=Vtiger_Popup_Js.getInstance();b.show(this.getPopupParams(),function(d){var c=JSON.parse(d);a.addRelations(c).then(function(f){var e=a.getCurrentPageNum();var g={page:e};a.loadRelatedList(g)})})},getPopupParams:function(){var a={module:this.relatedModulename,src_module:this.parentModuleName,src_record:this.parentRecordId,view:"PriceBookProductPopup",src_field:"priceBookRelatedList",multi_select:true};return a},addRelations:function(c){var a=jQuery.Deferred();var d=this.parentRecordId;var b=this.parentModuleName;var f=this.relatedModulename;var e={};e.mode="addListPrice";e.module=b;e.action="RelationAjax";e.related_module=f;e.src_record=d;e.relinfo=JSON.stringify(c);AppConnector.request(e).then(function(h){var g=Vtiger_Detail_Js.getInstance();g.registerRelatedModulesRecordCount();a.resolve(h)});return a.promise()}});