
jQuery.Class("Notification_NotificationConfig_Js",{},{registerEventForModal:function(a){app.showBtnSwitch(a.find(".switchBtn"));app.showPopoverElementView(a.find(".infoPopover"));a.on("switchChange.bootstrapSwitch",".sendNotificationsSwitch",function(c,b){if(b){a.find(".schedule").removeClass("hide")}else{a.find(".schedule").addClass("hide")}});a.find('[name="saveButton"]').on("click",function(){var d=[];a.find(".watchingModule").each(function(){var e=$(this);if(e.is(":checked")){d.push(e.data("nameModule"))}});var c={module:app.getModuleName(),action:"Notification",mode:"saveWatchingModules",selctedModules:d,sendNotifications:a.find(".sendNotificationsSwitch").prop("checked")?1:0,frequency:a.find('select[name="frequency"]').val()};var b=jQuery.progressIndicator();AppConnector.request(c).then(function(e){b.progressIndicator({mode:"hide"});app.hideModalWindow()})});a.find(".selectAllModules").on("click",function(){if($(this).is(":checked")){var b=true}else{var b=false}a.find(".watchingModule").each(function(){$(this).prop("checked",b)})})},registerEvents:function(){var a=$(".modalNotificationNotificationConfig");this.registerEventForModal(a)}});jQuery(document).ready(function(){var a=new Notification_NotificationConfig_Js();a.registerEvents()});