
(function(b){var a=function(){var c=this;this.defaults={position:"append",mode:"show",blockInfo:{elementToBlock:"body"},message:""};this.imageContainerCss={"text-align":"center"};this.blockOverlayCSS={opacity:"0.2"};this.blockCss={border:"",backgroundColor:"","background-clip":"border-box","border-radius":"2px"};this.showTopCSS={width:"25%",left:"37.5%",position:"fixed",top:"4.5%","z-index":"100000"};this.showOnTop=false;this.init=function(e,d){if(typeof d=="undefined"){d={}}c.options=b.extend(true,this.defaults,d);c.container=e;c.position=d.position;if(typeof d.imageContainerCss!="undefined"){c.imageContainerCss=b.extend(true,this.imageContainerCss,d.imageContainerCss)}if(this.isBlockMode()){c.elementToBlock=b(c.options.blockInfo.elementToBlock)}return this};this.initActions=function(){if(this.options.mode=="show"){this.show()}else{if(this.options.mode=="hide"){this.hide()}}};this.isPageBlockMode=function(){if((typeof this.elementToBlock!="undefined")&&this.elementToBlock.is("body")){return true}return false};this.isBlockMode=function(){if((typeof this.options.blockInfo!="undefined")&&(this.options.blockInfo.enabled==true)){return true}return false};this.show=function(){var d="bigLoading";if(this.options.smallLoadingImage==true){d="smallLoading"}if(this.isBlockMode()){d=d+" blockProgressContainer"}var e='<div class="imageHolder '+d+'"><div class="sk-cube-grid"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div><div class="sk-cube sk-cube3"></div><div class="sk-cube sk-cube4"></div><div class="sk-cube sk-cube5"></div><div class="sk-cube sk-cube6"></div><div class="sk-cube sk-cube7"></div><div class="sk-cube sk-cube8"></div><div class="sk-cube sk-cube9"></div></div></div>';var f=jQuery(e).css(this.imageContainerCss);var h=c.options.message;if(h.length==0){h=app.vtranslate("JS_LOADING_PLEASE_WAIT")}if(!(h instanceof jQuery)){h=jQuery("<span></span>").html(h)}var g=jQuery('<div class="message"></div>').append(h);f.append(g);if(this.isBlockMode()){f.addClass("blockMessageContainer")}switch(c.position){case"prepend":c.container.prepend(f);break;case"html":c.container.html(f);break;case"replace":c.container.replaceWith(f);break;default:c.container.append(f)}if(this.isBlockMode()){c.blockedElement=c.elementToBlock;if(c.isPageBlockMode()){b.blockUI({message:c.container,overlayCSS:c.blockOverlayCSS,css:c.blockCss})}else{c.elementToBlock.block({message:c.container,overlayCSS:c.blockOverlayCSS,css:c.blockCss})}}if(c.showOnTop){this.container.css(this.showTopCSS).appendTo("body")}};this.hide=function(){b(".imageHolder",this.container).remove();if(typeof this.blockedElement!="undefined"){if(this.isPageBlockMode()){b.unblockUI()}else{this.blockedElement.unblock()}}this.container.removeData("progressIndicator")}};b.fn.progressIndicator=function(c){var d=this;if(this.length<=0){d=jQuery("body")}return d.each(function(e,f){var h=b(f);if(typeof h.data("progressIndicator")!="undefined"){var g=h.data("progressIndicator")}else{var g=new a();h.data("progressIndicator",g)}g.init(h,c).initActions()})};b.progressIndicator=function(c){var e=jQuery("<div></div>");var d=new a();d.init(e,c);if(!d.isBlockMode()){d.showOnTop=true}d.initActions();return e.data("progressIndicator",d)};b.blockUI.defaults.baseZ=10000})(jQuery);